# Эксперимент "Химия"

Симуляция искусственной жизни. Проект нестабильной симуляции.

## Основы

В мире живут боты. Боты могут передвигаться, выполнять химические реакции(далее), поедать друг друга и размножаться делением. При размножении есть 25% шанс мутации. При мутации геном бота немного изменяется.

У бота есть здоровье. По умолчанию здоровье равно 100. Здоровье уменьшается, если бота укусили. При укусе у бота отнимается некоторое количество энергии, и количество здоровья, пропорциональное потраченной энергии

## Вещества

В каждой клетке мира могут находиться вещества.

Бот может собирать и хранить до 80 единиц вещества. Газы и жидкости автоматически собираются с клетки под ботом.(вот только вещества не могут перемещаться на клетку под ботом)

### Список веществ:

* A(глюкоза) - Вязкая жидкость. Используется для перерабоки в энергию
* B(кристалл) - Разрастается. Боты и вещества не могут перемещаться в клетку сбольшим количеством кристалла
* C(кислород) - Газ, используется для дыхания, производится при фотосинтезе
* D(углекислый газ) - Газ, используется для фотосинтеза, производится при дыхании
* E(водород) - Газ, поднимается вверх. Используется для фотосинтеза. Окисляется кислородом с выделением энергии
* F(вольфрам) - Твердое вещество, не препятствует перемещению
* G(азот) - Газ
* H(торий) - Твердое вещество, не препятствует перемещению. Радиоактивен
* I(яд) - вязкая жидкость. Очень ядовит. Может использоваться для полученияф энергии
* J(железо) - Твердое вещество, не препятствует перемещению

Боты могут выполнять реакцйии с веществами. При реакции несколько вещетв тратятся и еще несколько производятся.

Реакции выполняются при помощи органелл, у бота есть 2 органеллы. Одна органелла может выполнять только одну реакцию. Реакция выполняется каждый ход независимо от действия бота.

## Запланированные нововведения

### Яды

Вещества будут медленно отравлять ботов при наличии внутри. У ботов должен быть способ противодействия отравлению

#### Идеи работы ядов:

* Вещества просто будут наносить урон, соизмеримый количеству вещества. Способом противодействия будет вывод вещества наружу
* Вещества будут наносить фиксированный урон при достижении некоторого количества вещества в боте
* У бота будет параметр скорости переработки вещества(по одному на каждое вещество). Есть счетчик переработанного и непереработанного вещества. Непереработанное вещество наносит боту урон. В данном случае вопрос в том, сможет ли бот использовать непереработанное вещество в реакциях, и что будет при его использовании

### Течения

Карта течений. В каждой клетке есть направление течения. Я предполагаю сделать течения отдельной картой(не на каждое вещество)

+Гейзеры, они будут создавать течение и попутно выплевывать некоторые вещества

Течения могут сдвигать ботов и некоторые вещества

### Температура

В настоящий момент существует карта температуры, но она не используется. Температура рассеивается как газ и постепенно приходит к значению в 30 градусов(планируется сделать неоднородную температуру среды в разных участках карты)

У каждого бота есть температура. Температура бота постепенно усредняется с температурой клетки под ним

По идее, температура нужна для некоторых реакций. Другие реакции выполняются с выделением тепла

Проблема температуры состоит в том, что она рассеивается, или рассеивается слишком медленно. Пример: команда дыхания нагревала среду на ~5 градусов(точно не помню, но там немного). В результате боты нагрелись до 500 градусов. Я думаю, что надо создать более правильную тепловую модель

### Защита и мембрана

Прокачка. Бот может потратить вещества, чтобы усилить свою мембрану. Мембрана сохраняет количество и типы веществ, из которых она состоит. От параметров мембраны зависит защита бота и скорость автоматического поглощения веществ. Разные вещества по разному увеличивают защиту(также в мыслях сделать и прочее предназначение мембране, но пока не придумал, какое). При укусе мембрана постепенно будет деградировать и тратить накопленные выещества

Вероятно, защита будет в процентном соотношении снижать получаемый ботом урон и откушенную энергию. Только график зависимости процента защиты от параметра защиты лучше делать не линейным

Непонятно, как мембрана будет передаваться потомку бота. Либо она будет делиться пополам, либо параметры мембраны у потомка и предка будут одинаковы

### Многопоточность

Просто многопоточность. Ботов многопоточить сложнее, чем вещества(они по факту являютя клеточным автоматом, и теоретически можно каждой клетке мира дать отдельный поток)

Обработка веществ тратит больше ресурсов, она проще, и поэтому это первый кандидат на многопоточность

### Большее разнообразие морфологии и многоклеточность

Видовое разнообразие в стандартной симуляции невелико. Я предполагаю, что апогеем двумерных дискретных симуляций являются деревья, как в "Борьбе кланов". Можно конечно просто добавить в "борьбу кланов" вещества, но я бы хотел получить многоклеточность без внедрения особого генома, только с помощью обычных ботов. Для этого необходимо дать ботам возможность выполнять различные действия с одинаковым геномом и сделать условия, в которых многоклеточность будет доминировать над одноклеточностью

### Новая модель генома

Геном на основе органелл. Сейчас органеллы уже есть, они используются для обработки реакций, но в потенциале сделать весь геном построенный на органеллах

Основа органеллы - условие: при выполнении условия выполнится действие, привязанное к органелле

К сожалению, такой геном порождает не самое сложное поведение, а также остаются некоторые спорные моменты с выполнением нескольких завершающих команд за ход

Также было бы удобно "свернуть" все органеллы и мозг в один геном в виде набора чисел

### Усложненный фотосинтез

Сейчас фотосинтезирующие боты появляются практически сразу после запуска. Все параметры я настраивал именно под фотосинтез. Но я бы хотел, чтобы он был поздней реакцией, а на ранних этапах ботам приходилось лишь перерабатывать одни вещества в другие. Возможно, для этого придется сделать некое усложнение, препятствующее раннему появлению фотосинтеза. Первой идеея было давать ботам арифметические примеры, и при определенном количестве решенных примеров реакция выполняется. Но данный способ слишком сложен, для решения примеров необходим отдельный геном, а также он будет сильно нагружать симуляцию.

### Несколько действий за ход

В настоящий момент бот может выполнить только одну завершающую команду за ход. Есть идея дать ботам возможность выполнять несколько действия за один ход, но за каждое следующее потребление энергии будетувеличиваться(вероятно, квадратично)
